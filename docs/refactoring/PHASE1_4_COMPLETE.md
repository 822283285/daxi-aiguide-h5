# Phase 1.4 è¿ç§»å®ŒæˆæŠ¥å‘Š

**é˜¶æ®µ**: Phase 1 - åŸºç¡€è®¾æ–½æ­å»º  
**å­é˜¶æ®µ**: Phase 1.4 - æ ¸å¿ƒå±‚æ–‡ä»¶è¿ç§»  
**çŠ¶æ€**: âœ… å®Œæˆ  
**å®Œæˆæ—¥æœŸ**: 2026-02-27  

---

## âœ… è¿ç§»å®Œæˆæ¸…å•

### Assets èµ„æºè¿ç§»

#### 1. Images å›¾ç‰‡ âœ…
- **æ¥æº**: `app/navi_app/shouxihu/images/`
- **ç›®æ ‡**: `src/assets/images/`
- **è¿ç§»å†…å®¹**:
  - ARBtn.png
  - ATM.png
  - B000A11D* ç³»åˆ—å›¾ç‰‡
  - GPS.png
  - active_floor.png
  - add.png
  - aixinfuwu.png
  - arrowHead.png
  - ç­‰æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶

#### 2. Fonts å­—ä½“ âœ…
- **æ¥æº**: `app/navi_app/shouxihu/fonts/`
- **ç›®æ ‡**: `src/assets/fonts/`
- **è¿ç§»å†…å®¹**:
  - iconfont.eot
  - iconfont.ttf
  - iconfont.woff
  - iconfont.woff2

#### 3. Audio éŸ³é¢‘ âœ…
- **æ¥æº**: `app/navi_app/shouxihu/audio/`
- **ç›®æ ‡**: `src/assets/audio/`
- **è¿ç§»å†…å®¹**:
  - test.mp3
  - (åç»­å…¶ä»–éŸ³é¢‘æ–‡ä»¶)

### Styles æ ·å¼è¿ç§» âœ…

#### CSS æ–‡ä»¶
- **æ¥æº**: `app/navi_app/shouxihu/css/`
- **ç›®æ ‡**: `src/ui/styles/`
- **è¿ç§»å†…å®¹**:
  - base.css - åŸºç¡€æ ·å¼
  - blue.css - è“è‰²ä¸»é¢˜
  - font.css - å­—ä½“æ ·å¼
  - guobo.css - è¿‡è¡—æ ·å¼
  - index.css - ç´¢å¼•æ ·å¼ï¼ˆå·²å­˜åœ¨ï¼‰
  - index.min.css - å‹ç¼©ç‰ˆ
  - main.css - ä¸»æ ·å¼
  - main_12306.css - 12306 ä¸»é¢˜
  - testCss.css - æµ‹è¯•æ ·å¼
  - ui-page.css - UI é¡µé¢æ ·å¼

---

## ğŸ“Š è¿ç§»ç»Ÿè®¡

### æ–‡ä»¶æ•°é‡ç»Ÿè®¡

| ç±»å‹ | æ¥æºæ–‡ä»¶æ•° | è¿ç§»æ–‡ä»¶æ•° | çŠ¶æ€ |
|------|-----------|-----------|------|
| Images | ~100+ | ~100+ | âœ… 100% |
| Fonts | 4 | 4 | âœ… 100% |
| Audio | 1+ | 1+ | âœ… 100% |
| CSS | 10 | 10 | âœ… 100% |
| **æ€»è®¡** | **115+** | **115+** | **âœ… 100%** |

### ç›®å½•å¤§å°ç»Ÿè®¡

| ç›®å½• | å¤§å° | æ–‡ä»¶æ•° |
|------|------|--------|
| src/assets/images/ | å¾…ç»Ÿè®¡ | ~100+ |
| src/assets/fonts/ | ~500KB | 4 |
| src/assets/audio/ | ~500KB | 1 |
| src/ui/styles/ | ~200KB | 10 |

---

## ğŸ“ æ–°ç›®å½•ç»“æ„

### Assets ç»“æ„
```
src/assets/
â”œâ”€â”€ images/           # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ ARBtn.png
â”‚   â”œâ”€â”€ ATM.png
â”‚   â”œâ”€â”€ GPS.png
â”‚   â”œâ”€â”€ active_floor.png
â”‚   â”œâ”€â”€ add.png
â”‚   â””â”€â”€ ... (~100+ files)
â”‚
â”œâ”€â”€ fonts/            # å­—ä½“èµ„æº
â”‚   â”œâ”€â”€ iconfont.eot
â”‚   â”œâ”€â”€ iconfont.ttf
â”‚   â”œâ”€â”€ iconfont.woff
â”‚   â””â”€â”€ iconfont.woff2
â”‚
â”œâ”€â”€ audio/            # éŸ³é¢‘èµ„æº
â”‚   â””â”€â”€ test.mp3
â”‚
â””â”€â”€ videos/           # è§†é¢‘èµ„æº (é¢„ç•™)
```

### Styles ç»“æ„
```
src/ui/styles/
â”œâ”€â”€ index.css         # å…¥å£æ ·å¼ (å·²å­˜åœ¨)
â”œâ”€â”€ base.css          # åŸºç¡€æ ·å¼
â”œâ”€â”€ blue.css          # è“è‰²ä¸»é¢˜
â”œâ”€â”€ font.css          # å­—ä½“æ ·å¼
â”œâ”€â”€ guobo.css         # è¿‡è¡—æ ·å¼
â”œâ”€â”€ main.css          # ä¸»æ ·å¼
â”œâ”€â”€ ui-page.css       # UI é¡µé¢æ ·å¼
â”œâ”€â”€ index.min.css     # å‹ç¼©ç‰ˆ (ä¿ç•™å‚è€ƒ)
â”œâ”€â”€ main_12306.css    # 12306 ä¸»é¢˜
â””â”€â”€ testCss.css       # æµ‹è¯•æ ·å¼
```

---

## ğŸ”§ åç»­å·¥ä½œ

### 1. æ ·å¼æ•´åˆ

**ä»»åŠ¡**: åˆ›å»ºç»Ÿä¸€çš„æ ·å¼å…¥å£
**æ–‡ä»¶**: `src/ui/styles/index.css`

**å½“å‰çŠ¶æ€**: 
- index.css å·²å­˜åœ¨å¹¶åŒ…å«åŸºç¡€æ ·å¼
- éœ€è¦æ•´åˆå…¶ä»– CSS æ–‡ä»¶

**å»ºè®®æ–¹æ¡ˆ**:
```css
/* ä¿ç•™ç°æœ‰ index.css å†…å®¹ */
/* å…¶ä»–æ–‡ä»¶æŒ‰éœ€ @import */

/* åŸºç¡€æ ·å¼å·²å†…åµŒ */
@import './font.css';
@import './base.css';
@import './ui-page.css';

/* ä¸»é¢˜æ ·å¼æŒ‰éœ€åŠ è½½ */
/* @import './blue.css'; */
```

### 2. è·¯å¾„æ›´æ–°

**éœ€è¦æ›´æ–°çš„å¼•ç”¨**:
- CSS ä¸­çš„ `url(../images/...)` â†’ `url(@/assets/images/...)`
- JS ä¸­çš„æ ·å¼å¼•ç”¨ â†’ ä½¿ç”¨ Vite import

**ç¤ºä¾‹**:
```css
/* æ—§è·¯å¾„ */
.loadingBg {
  background: url(../images/loading2.gif);
}

/* æ–°è·¯å¾„ (Vite æ„å»ºå) */
.loadingBg {
  background: url(@/assets/images/loading2.gif);
}
```

### 3. CSS å˜é‡æå–

**å½“å‰ CSS å˜é‡** (å·²åœ¨ index.css ä¸­å®šä¹‰):
```css
:root {
  --bgColor: #fcf9f2;
  --whiteColor: #fff;
  --themeColor: #1089f3;
  --fontColor: rgb(72, 71, 71);
  --headerHeight: 3rem;
  /* ... æ›´å¤šå˜é‡ */
}
```

**åç»­ä¼˜åŒ–**:
- å°†é¢œè‰²å€¼ç»Ÿä¸€æå–ä¸º CSS å˜é‡
- å°†å°ºå¯¸å€¼ç»Ÿä¸€æå–ä¸º CSS å˜é‡
- åˆ›å»ºä¸»é¢˜é…ç½®æ–‡ä»¶

---

## âœ… éªŒæ”¶æ ‡å‡†

### èµ„æºéªŒæ”¶
- [x] æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶å·²å¤åˆ¶
- [x] æ‰€æœ‰å­—ä½“æ–‡ä»¶å·²å¤åˆ¶
- [x] æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶å·²å¤åˆ¶
- [x] æ‰€æœ‰ CSS æ–‡ä»¶å·²å¤åˆ¶
- [x] ç›®å½•ç»“æ„æ­£ç¡®

### è´¨é‡éªŒæ”¶
- [x] æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥é€šè¿‡
- [x] ç›®å½•æƒé™æ­£ç¡®
- [x] æ— é‡å¤æ–‡ä»¶
- [x] è·¯å¾„å¼•ç”¨å¾…æ›´æ–°ï¼ˆåç»­ï¼‰

---

## ğŸ¯ å…³é”®æˆæœ

### 1. Assets é›†ä¸­ç®¡ç† âœ…
- æ‰€æœ‰å›¾ç‰‡ â†’ src/assets/images/
- æ‰€æœ‰å­—ä½“ â†’ src/assets/fonts/
- æ‰€æœ‰éŸ³é¢‘ â†’ src/assets/audio/
- ä¾¿äº Vite æ„å»ºå¤„ç†

### 2. Styles ç»Ÿä¸€ç®¡ç† âœ…
- æ‰€æœ‰ CSS â†’ src/ui/styles/
- ä¾¿äºæ ·å¼æ•´åˆå’Œä¼˜åŒ–
- æ”¯æŒä¸»é¢˜åˆ‡æ¢

### 3. è·¯å¾„åˆ«åæ”¯æŒ âœ…
- ä½¿ç”¨ `@/assets/` è·¯å¾„åˆ«å
- ä½¿ç”¨ `@/ui/styles/` è·¯å¾„åˆ«å
- Vite é…ç½®å·²æ”¯æŒ

---

## ğŸ“ å·²çŸ¥é—®é¢˜

### 1. CSS è·¯å¾„å¼•ç”¨

**é—®é¢˜**: CSS æ–‡ä»¶ä¸­çš„ `url(../images/...)` è·¯å¾„

**å½±å“**: 
- å¼€å‘æ¨¡å¼å¯èƒ½æ­£å¸¸å·¥ä½œ
- æ„å»ºåè·¯å¾„å¯èƒ½é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨ Vite çš„ `url()` å¤„ç†
- æˆ–æ‰‹åŠ¨æ›´æ–°ä¸º `@/assets/images/...`

### 2. æ ·å¼æ–‡ä»¶å†—ä½™

**é—®é¢˜**: å¤šä¸ª CSS æ–‡ä»¶å¯èƒ½æœ‰é‡å¤æ ·å¼

**å½±å“**:
- æ‰“åŒ…ä½“ç§¯å¢å¤§
- æ ·å¼ä¼˜å…ˆçº§æ··ä¹±

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨å·¥å…·åˆ†æ CSS é‡å¤
- æ‰‹åŠ¨æ•´åˆé‡å¤æ ·å¼
- åˆ é™¤ä¸å†ä½¿ç”¨çš„æ–‡ä»¶

### 3. å­—ä½“æ–‡ä»¶è·¯å¾„

**é—®é¢˜**: iconfont å­—ä½“å¯èƒ½æœ‰ç›¸å¯¹è·¯å¾„å¼•ç”¨

**å½±å“**:
- å­—ä½“å¯èƒ½æ— æ³•åŠ è½½

**æ£€æŸ¥**:
```bash
grep -r "url(" src/assets/fonts/
```

---

## ğŸ”„ ä¸‹ä¸€æ­¥

### Phase 1.5: éªŒè¯æµ‹è¯•

**ä»»åŠ¡**:
1. è¿è¡Œ `pnpm dev`
2. æ£€æŸ¥èµ„æºåŠ è½½
   - å›¾ç‰‡æ˜¯å¦æ­£ç¡®åŠ è½½
   - å­—ä½“æ˜¯å¦æ­£ç¡®åŠ è½½
   - æ ·å¼æ˜¯å¦æ­£ç¡®åº”ç”¨
3. æ£€æŸ¥é¡µé¢æ¸²æŸ“
   - æ ·å¼æ˜¯å¦æ­£å¸¸
   - å¸ƒå±€æ˜¯å¦æ­£ç¡®
4. è®°å½•é—®é¢˜å¹¶ä¿®å¤

### Phase 2: æ ¸å¿ƒæ¶æ„å®ç°

**ä»»åŠ¡**:
1. StateManager å®Œæ•´åŠŸèƒ½
2. StateRouter å®Œæ•´åŠŸèƒ½
3. BasePageController å®ç°
4. PageControllerRegistry å®ç°

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- `REFACTORING_DIRECTORY_DESIGN.md` - ç›®å½•è®¾è®¡
- `docs/refactoring/MIGRATION_PHASE1_4.md` - è¿ç§»æŒ‡å—
- `vite.config.js` - Vite é…ç½®ï¼ˆè·¯å¾„åˆ«åï¼‰

---

**Phase 1.4 çŠ¶æ€**: âœ… COMPLETE  
**ä¸‹ä¸€é˜¶æ®µ**: Phase 1.5 (éªŒè¯æµ‹è¯•)  
**è¿ç§»æ—¥æœŸ**: 2026-02-27  
**è¿ç§»å·¥å…·**: cp, robocopy

**å‡†å¤‡è¿›å…¥ Phase 1.5ï¼ğŸš€**
